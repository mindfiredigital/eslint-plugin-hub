"use strict";(self.webpackChunkeslint_plugin_hub=self.webpackChunkeslint_plugin_hub||[]).push([[107],{7377:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>t,toc:()=>c});var o=i(4848),r=i(8453);const s={},l="Node",t={id:"node",title:"Node",description:"Node Plugin Configuration",source:"@site/docs/node.md",sourceDirName:".",slug:"/node",permalink:"/eslint-plugin-hub/docs/node",draft:!1,unlisted:!1,editUrl:"https://github.com/mindfiredigital/eslint-plugin-hub/edit/main/docs/node.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Angular",permalink:"/eslint-plugin-hub/docs/angular"},next:{title:"MERN",permalink:"/eslint-plugin-hub/docs/mern"}},a={},c=[{value:"Node Plugin Configuration",id:"node-plugin-configuration",level:2},{value:"Node Rules",id:"node-rules",level:3},{value:"Configuration",id:"configuration",level:3},{value:"<code>minimize-complexflows</code>",id:"minimize-complexflows",level:3},{value:"<code>avoid-runtime-heap-allocation</code>",id:"avoid-runtime-heap-allocation",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"node",children:"Node"})}),"\n",(0,o.jsx)(n.h2,{id:"node-plugin-configuration",children:"Node Plugin Configuration"}),"\n",(0,o.jsx)(n.p,{children:"To enhance code quality, maintainability, and enforce best practices in your Node projects, the Eslint Plugin Hub provides several Node.js-focused rules. These rules help manage code complexity and promote efficient memory usage patterns critical for server-side applications."}),"\n",(0,o.jsx)(n.h3,{id:"node-rules",children:"Node Rules"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Rule Name"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"minimize-complexflows"})}),(0,o.jsx)(n.td,{children:"Enforces simplified control flow by limiting recursion and nesting depth, and detecting direct or lexically scoped recursion to improve readability and reduce error potential."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"avoid-runtime-heap-allocation"})}),(0,o.jsx)(n.td,{children:"Discourages heap allocation of common data structures (arrays, objects, Maps, Sets) within function bodies, especially in loops, to promote reuse and reduce GC pressure."})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsxs)(n.p,{children:["After installing the plugin (",(0,o.jsx)(n.code,{children:"npm install @mindfiredigital/eslint-plugin-hub --save-dev"}),"), you'll need to add the Node.js-specific rules or configurations from ",(0,o.jsx)(n.code,{children:"@mindfiredigital/eslint-plugin-hub"})," to your ESLint configuration file (e.g., ",(0,o.jsx)(n.code,{children:"eslintrc.config.js"}),",",(0,o.jsx)(n.code,{children:".eslintrc.json"}),", ",(0,o.jsx)(n.code,{children:".eslintrc.js"}),", or ",(0,o.jsx)(n.code,{children:".eslintrc.yaml"}),")."]}),"\n",(0,o.jsxs)(n.p,{children:["ESLint v9+ uses ",(0,o.jsx)(n.code,{children:"eslint.config.js"})," (flat config). Older versions use ",(0,o.jsx)(n.code,{children:".eslintrc.js"})," (or ",(0,o.jsx)(n.code,{children:".json"}),", ",(0,o.jsx)(n.code,{children:".yaml"}),")."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.strong,{children:["For Flat Config (e.g., ",(0,o.jsx)(n.code,{children:"eslint.config.js"}),"):"]})}),"\n",(0,o.jsx)(n.p,{children:"You can extend a pre-defined Node.js configuration from the plugin or configure rules manually."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"// eslint.config.js\nimport hub from '@mindfiredigital/eslint-plugin-hub';\n\nexport default [\n  {\n    files: ['**/*.js', '**/*.ts'], // Or more specific files like 'src/**/*.ts'\n    plugins: {\n      hub: hub, // 'hub' is the prefix for your rules\n    },\n    languageOptions: {\n      globals: {\n        ...globals.node, // Recommended for Node.js projects\n      },\n      parserOptions: {\n        ecmaVersion: 2022, // Or your target ECMAScript version\n        sourceType: 'module',\n      },\n    },\n    rules: {\n      'hub/minimize-complexflows': [\n        'warn',\n        {\n          /* options */\n        },\n      ],\n      'hub/avoid-runtime-heap-allocation': [\n        'warn',\n        {\n          /* options */\n        },\n      ],\n      // ... any additional rule overrides or additions\n    },\n  },\n];\n"})}),"\n",(0,o.jsx)(n.h3,{id:"minimize-complexflows",children:(0,o.jsx)(n.code,{children:"minimize-complexflows"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Description"}),": Excessive complexity in how a program flows from one instruction to another significantly increases the risk of introducing logic errors that can be hard to find. When code paths become convoluted due to deeply nested structures (like multiple if statements inside each other) or complicated recursive calls, the code becomes much more difficult for developers to read, understand, and mentally trace."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Rationale"}),": This difficulty directly impacts maintainability; making changes or adding new features to overly complex code is a challenging and error-prone task. Furthermore, testing all possible paths in such code becomes exponentially harder, leading to less reliable software."]}),"\n",(0,o.jsx)(n.p,{children:"By promoting simpler, more linear, or well-structured control flows, this rule aims to make your code easier to verify, debug, and test. Code that is straightforward in its execution path is generally more robust and less prone to hidden bugs, leading to higher overall software quality and a more efficient development process. Limiting recursion to scenarios with clear, bounded termination conditions also helps prevent stack overflows and makes the recursive logic easier to reason about."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Options"}),": The rule accepts a single object with the following properties:"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"maxNestingDepth"})}),"\n",(0,o.jsx)(n.p,{children:"Type: number\nDescription: Specifies the maximum allowed depth of nested control structures (like if, for, while, switch). Nesting beyond this depth will be flagged.\nDefault: 3\nConstraint: Must be a minimum of 1.\nExample Usage:\nJavaScript"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'{\nrules: { "hub/minimize-complexflows": ["warn", { "maxNestingDepth": 4 }]\n}\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"This would allow nesting up to 4 levels deep."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"allowRecursion"})}),"\n",(0,o.jsx)(n.p,{children:"Type: boolean\nDescription: Determines whether recursive function calls (both direct and lexical) are permitted. If set to false, the rule will flag instances of recursion. If true, recursion checks are disabled.\nDefault: false (meaning recursion is flagged by default)\nExample Usage:\nJavaScript"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'{\n    rules: { "hub/minimize-complexflows": ["warn", { "allowRecursion": true }]\n            }\n}\nThis would allow recursive functions without ESLint warnings from this rule.\nExample of Full Configuration in eslint.config.js:\n\nJavaScript\n\n// eslint.config.js\n// ... other imports and configurations ...\n{\n  plugins: {\n    "hub": hub,\n  },\n  rules: {\n    "hub/minimize-complexflows": ["warn", {\n      "maxNestingDepth": 2,     // Stricter nesting\n      "allowRecursion": true    // Allow recursion\n    }],\n    // ... other rules\n  }\n}\n// ...\n'})}),"\n",(0,o.jsx)(n.p,{children:"These two options (maxNestingDepth and allowRecursion) give you control over how strictly the minimize-complex-flows rule operates in your project."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'"hub/minimize-complexflows": [{ "maxNestingDepth": 3, "allowRecursion": false }]'})}),"\n",(0,o.jsx)(n.p,{children:"Valid: Nesting up to 3 levels"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function processOrder(order) {\n  if (order) {\n    // Level 1\n    if (order.items && order.items.length > 0) {\n      // Level 2\n      for (const item of order.items) {\n        // Level 3\n        console.log(item.name);\n      }\n    }\n  }\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"Valid: No recursion"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function calculateSum(numbers) {\n  let sum = 0;\n  for (const num of numbers) {\n    sum += num;\n  }\n  return sum;\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"Invalid: Nesting depth of 4 (exceeds maxNestingDepth: 3)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function checkPermissions(user, resource, action) {\n  if (user) {\n    // Level 1\n    if (user.roles) {\n      // Level 2\n      if (user.roles.includes('admin')) {\n        // Level 3\n        if (resource.isProtected && action === 'delete') {\n          // Level 4 - ERROR\n          console.log('Admin delete allowed');\n          return true;\n        }\n      }\n    }\n  }\n  return false;\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"ESLint Warning: Avoid nesting control structures deeper than 3 levels. Current depth: 4."}),"\n",(0,o.jsx)(n.p,{children:"Invalid: Direct recursion (allowRecursion: false)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function countdown(n) {\n  if (n <= 0) {\n    console.log('Blast off!');\n    return;\n  }\n  console.log(n);\n  countdown(n - 1); // ERROR: Direct recursion\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["ESLint Warning: Direct recursion detected in function ",(0,o.jsx)(n.code,{children:"countdown"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Invalid: Lexical recursion (allowRecursion: false)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function outerTask(value) {\n  console.log('Outer task:', value);\n  function innerTask(innerValue) {\n    if (innerValue > 0) {\n      console.log('Inner task, calling outer:', innerValue);\n      outerTask(innerValue - 1); // ERROR: Lexical recursion\n    }\n  }\n  if (value > 0) {\n    innerTask(value);\n  }\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["ESLint Warning: Lexical recursion: function ",(0,o.jsx)(n.code,{children:"outerTask"})," is called from an inner scope of ",(0,o.jsx)(n.code,{children:"innerTask"})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'"hub/minimize-complexflows": ["warn", { "maxNestingDepth": 2, "allowRecursion": false }]'})}),"\n",(0,o.jsx)(n.p,{children:"Valid: Nesting up to 2 levels"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function checkAccess(user) {\n  if (user) {\n    // Level 1\n    if (user.isActive) {\n      // Level 2\n      return true;\n    }\n  }\n  return false;\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"Invalid: Nesting depth of 3 (exceeds maxNestingDepth: 2)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function processOrder(order) {\n  if (order) {\n    // Level 1\n    if (order.items && order.items.length > 0) {\n      // Level 2\n      for (const item of order.items) {\n        // Level 3 - ERROR\n        console.log(item.name);\n      }\n    }\n  }\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"ESLint Warning: Avoid nesting control structures deeper than 2 levels. Current depth: 3."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'"hub/minimize-complex-flows": ["warn", { "maxNestingDepth": 3, "allowRecursion": true }]'})}),"\n",(0,o.jsx)(n.p,{children:"Valid: Direct recursion is now allowed"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function factorial(n) {\n  if (n <= 1) {\n    return 1;\n  }\n  return n * factorial(n - 1); // OK, recursion allowed\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"Valid: Lexical recursion is now allowed"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function outerWithAllowedRecursion(value) {\n  function innerCallOuter(innerValue) {\n    if (innerValue > 0) {\n      outerWithAllowedRecursion(innerValue - 1); // OK, recursion allowed\n    }\n  }\n  if (value > 0) {\n    innerCallOuter(value);\n  }\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"Valid: Nesting still respects maxNestingDepth"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function normalNestingWithRecursionAllowed(data) {\n  if (data) {\n    // Level 1\n    if (data.value > 0) {\n      // Level 2\n      console.log(data.value);\n    }\n  }\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"Invalid: Nesting depth of 4 (exceeds maxNestingDepth: 3), even if recursion is allowed"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"function deeplyNestedButRecursionAllowed(user) {\n  if (user) {\n    // Level 1\n    if (user.profile) {\n      // Level 2\n      if (user.profile.settings) {\n        // Level 3\n        if (user.profile.settings.isActive) {\n          // Level 4 - ERROR\n          console.log('User is active');\n          return true;\n        }\n      }\n    }\n  }\n  return false;\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"ESLint Warning: Avoid nesting control structures deeper than 3 levels. Current depth: 4."}),"\n",(0,o.jsx)(n.h3,{id:"avoid-runtime-heap-allocation",children:(0,o.jsx)(n.code,{children:"avoid-runtime-heap-allocation"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Description"}),": Description:\nEncourages efficient memory management by discouraging the creation of new common data structures (arrays [], objects ",", new Map(), new Set(), etc.) directly within function bodies, and especially inside loops. This practice helps to reduce garbage collection pressure and improve performance."]}),"\n",(0,o.jsx)(n.p,{children:"Okay, I understand! You want the documentation for avoid-runtime-heap-allocation formatted precisely like the Docusaurus-style Markdown you provided for the minimize-complex-flows rule."}),"\n",(0,o.jsx)(n.p,{children:"Here's the documentation for node/avoid-runtime-heap-allocation in that format:"}),"\n",(0,o.jsxs)(n.p,{children:["node/avoid-runtime-heap-allocation\nDescription:\nEncourages efficient memory management by discouraging the creation of new common data structures (arrays [], objects ",", new Map(), new Set(), etc.) directly within function bodies, and especially inside loops. This practice helps to reduce garbage collection pressure and improve performance."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Rationale"}),": Frequent dynamic memory allocations and deallocations during an application's runtime can lead to several performance issues. These include general performance degradation due to the overhead of memory management, excessive garbage collection (GC) cycles which can pause application execution, and memory fragmentation. Over time, fragmentation can make it difficult for the system to find contiguous blocks of memory, even if sufficient total memory is free. Keeping memory usage predictable and minimizing runtime allocations are crucial for long-running, resource-intensive, or real-time applications, ensuring smoother operation and stability. This rule promotes pre-allocation and reuse of data structures where feasible."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Options"}),": The rule accepts a single object with the following properties:"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"checkLoopsOnly"})}),"\n",(0,o.jsx)(n.p,{children:"Type: boolean\nDescription: If set to true, the rule will only flag allocations that occur inside loops within functions. If false (default), it flags any such allocation found anywhere inside a function body (outside of module scope).\nDefault: false\nExample Usage:\nJSON"}),"\n",(0,o.jsx)(n.p,{children:"In your ESLint config rules section:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'{\nrules: {"hub/avoid-runtime-heap-allocation": ["warn", { "checkLoopsOnly": true }]\n}\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"allowedConstructs"})}),"\n",(0,o.jsx)(n.p,{children:"Type: array of string\nDescription: A list of constructor names that should be exempt from this rule, allowing their allocation at runtime without warning.\nDefault: [] (empty array, meaning all targeted constructs are checked by default)\nEnum Values: 'Array', 'Object', 'Map', 'Set', 'WeakMap', 'WeakSet'\nExample Usage:\nJSON"}),"\n",(0,o.jsx)(n.p,{children:"// In your ESLint config rules section:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'{\n rules: { "hub/avoid-runtime-heap-allocation":    ["warn", { "allowedConstructs": ["Map", "Set"] }]\n}\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"Example of Full Configuration in eslint.config.js:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-JavaScript",children:'// eslint.config.js\n// Assuming \'hubPlugin\' is your imported plugin \'@mindfiredigital/eslint-plugin-hub\'\n// ... other imports and configurations ...\n{\nplugins: {\n"hub": hubPlugin,\n},\nrules: {\n"hub/avoid-runtime-heap-allocation": ["warn", {\n"checkLoopsOnly": false, // Example: check everywhere in functions\n"allowedConstructs": ["Set"] // Example: Allow \'new Set()\'\n}],\n// ... other rules\n}\n}\n// ...\n'})}),"\n",(0,o.jsx)(n.p,{children:"These two options (checkLoopsOnly and allowedConstructs) give you control over how strictly the avoid-runtime-heap-allocation rule operates in your project."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'"hub/avoid-runtime-heap-allocation": ["warn"] which implies { "checkLoopsOnly": false, "allowedConstructs": [] }'})}),"\n",(0,o.jsx)(n.p,{children:"Valid (Should NOT produce warnings from this rule):"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"// Module-scope allocations are fine\nconst globalArray = [];\nconst globalObject = {};\n\nfunction usesGlobalArray(data) {\n  globalArray.length = 0; // Modifying, not re-allocating\n  globalArray.push(...data);\n}\n\n// Empty array/object as default parameter (ignored by rule heuristic)\nfunction processItems(items = []) {\n  console.log(items);\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"Invalid (Should PRODUCE warnings from this rule):"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"// Allocation in a function\nfunction processData(data) {\n  const tempResults = []; // Invalid: allocationInFunction\n  data.forEach(item => tempResults.push(item * 2));\n  return tempResults;\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"ESLint Warning: Runtime allocation of 'Array' ([]) detected in function processData. Consider pre-allocating and reusing, especially if this function is called frequently or is performance-sensitive."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-JavaScript",children:"function createConfig() {\n  const config = { active: true, mode: 'test' }; // Invalid: allocationInFunction\n  return config;\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"ESLint Warning: Runtime allocation of 'Object' ({ active: true, mode: '...}) detected in function createConfig. Consider pre-allocating and reusing, especially if this function is called frequently or is performance-sensitive."})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javaScript",children:"// Allocation in a loop within a function\nfunction processBatch(batch) {\n  for (let i = 0; i < batch.length; i++) {\n    const itemSpecificData = [batch[i].id, batch[i].value]; // Invalid: allocationInLoop\n  }\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"ESLint Warning: Runtime allocation of 'Array' ([batch[i].id, batch[i]...]) detected inside a loop within function processBatch. This can severely impact performance. Pre-allocate and reuse this structure."})}),"\n",(0,o.jsxs)(n.p,{children:["Scenario 2: Option checkLoopsOnly: true\n",(0,o.jsx)(n.code,{children:'("hub/avoid-runtime-heap-allocation": ["warn", { "checkLoopsOnly": true }])'})]}),"\n",(0,o.jsx)(n.p,{children:"Valid (Should NOT produce warnings from this rule):"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javaScript",children:"// Allocation in a function, but NOT in a loop, is now VALID\nfunction processData(data) {\n  const tempResults = []; // Valid with checkLoopsOnly: true\n  data.forEach(item => tempResults.push(item * 2));\n  return tempResults;\n}\nInvalid (Should PRODUCE warnings from this rule):\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javaScript",children:"// Allocation in a loop within a function is still INVALID\nfunction processBatchWithLoopCheck(batch) {\n  const initialItems = []; // This is VALID with checkLoopsOnly: true\n  for (let i = 0; i < batch.length; i++) {\n    const itemSpecificData = { id: batch[i].id }; // Invalid: allocationInLoop\n  }\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"ESLint Warning: Runtime allocation of 'Object' ({ id: batch[i].id }) detected inside a loop within function processBatchWithLoopCheck. This can severely impact performance. Pre-allocate and reuse this structure."})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'Scenario 3: Option allowedConstructs: [\'Map\'] ("hub/node/avoid-runtime-heap-allocation": ["warn", { "allowedConstructs": ["Map"] }])'})}),"\n",(0,o.jsx)(n.p,{children:"Valid (Should NOT produce warnings from this rule for Map):"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javaScript",children:"function useAllowedTypes() {\n  const myMap = new Map(); // Valid: Map is in allowedConstructs\n\n  for (let i = 0; i < 2; i++) {\n    const mapInLoop = new Map(); // Valid: Map is in allowedConstructs\n  }\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"Invalid (Should PRODUCE warnings from this rule for Array/Object):"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javaScript",children:"function useMixedTypes() {\n  const myMap = new Map(); // Valid: Map is in allowedConstructs\n  const myArray = [];      // Invalid: allocationInFunction for Array\n\n  for (let i = 0; i < 2; i++) {\n    const objInLoop = { index: i }; // Invalid: allocationInLoop for Object\n  }\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"ESLint Warning: Runtime allocation of 'Array' ([]) detected in function useMixedTypes. Consider pre-allocating and reusing, especially if this function is called frequently or is performance-sensitive. ESLint Warning: Runtime allocation of 'Object' ({ index: i }) detected inside a loop within function useMixedTypes. This can severely impact performance. Pre-allocate and reuse this structure."})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>t});var o=i(6540);const r={},s=o.createContext(r);function l(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);